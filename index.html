<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø¹Ø¯Ø¯ Ùˆ Ù†ÙˆØ¯</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet" type="text/css">

<style>
:root{
  --bg:#0f172a;
  --card:#111827;
  --text:#f9fafb;
  --accent:#22c55e;
}
.light{
  --bg:#f8fafc;
  --card:#ffffff;
  --text:#020617;
  --accent:#16a34a;
}
body{
  margin:0;
  font-family:'Vazir',tahoma;
  background:var(--bg);
  color:var(--text);
  transition:0.4s;
}
.flow-bg{
  position:fixed;
  inset:0;
  background:
  linear-gradient(90deg,rgba(255,255,255,0.05) 1px,transparent 1px),
  linear-gradient(rgba(255,255,255,0.05) 1px,transparent 1px);
  background-size:60px 60px;
  z-index:-1;
}
header{
  padding:20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
h1{color:var(--accent)}
button{
  background:var(--accent);
  border:none;
  padding:10px 18px;
  border-radius:10px;
  cursor:pointer;
  color:white;
}
.card{
  background:var(--card);
  max-width:900px;
  margin:40px auto;
  padding:25px;
  border-radius:18px;
}
input{
  padding:10px;
  width:100%;
  border-radius:8px;
  border:none;
  margin-top:10px;
}
.hidden{display:none}
.profile{
  display:flex;
  align-items:center;
  gap:15px;
}
.profile img{
  width:60px;
  height:60px;
  border-radius:50%;
  object-fit:cover;
  border:2px solid var(--accent);
}
.project{
  border:2px dashed var(--accent);
  padding:20px;
  border-radius:16px;
  cursor:pointer;
  margin-top:15px;
}
pre{
  background:#000;
  color:#00ff88;
  padding:15px;
  border-radius:12px;
  font-size:14px;
}
</style>
</head>

<body>
<div class="flow-bg"></div>

<header>
  <h1>Ø¹Ø¯Ø¯ Ùˆ Ù†ÙˆØ¯</h1>
  <button onclick="toggleMode()">
    <img id="modeIcon" src="https://s6.uupload.ir/files/42_q501.png" width="25" height="25">
  </button>
</header>

<!-- ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø± -->
<div class="card" id="userLogin">
  <h2>ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø±</h2>
  <input id="username" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±">
  <input type="file" id="avatar" accept="image/*">
  <br><br>
  <button onclick="loginUser()">ÙˆØ±ÙˆØ¯</button>
  <hr><br>
  <button onclick="showAdmin()">ÙˆØ±ÙˆØ¯ Ù…Ø¯ÛŒØ±</button>
</div>

<!-- ÙˆØ±ÙˆØ¯ Ù…Ø¯ÛŒØ± -->
<div class="card hidden" id="adminLogin">
  <h2>ÙˆØ±ÙˆØ¯ Ù…Ø¯ÛŒØ±</h2>
  <input type="password" id="adminCode" placeholder="Ú©Ø¯ Ù…Ø¯ÛŒØ±">
  <br><br>
  <button onclick="loginAdmin()">ÙˆØ±ÙˆØ¯</button>
</div>

<!-- ØµÙØ­Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡ Ù‡Ø§ -->
<div class="card hidden" id="projects">
  <h2>Ù¾Ø±ÙˆÚ˜Ù‡ Ù‡Ø§</h2>

  <div class="project" onclick="selectProject('divisor')">
    <h3>ØªØ´Ø®ÛŒØµ Ù…Ù‚Ø³ÙˆÙ… Ø¹Ù„ÛŒÙ‡ Ù‡Ø§</h3>
    <p>Ù¾Ø±ÙˆÚ˜Ù‡ Ø±ÛŒØ§Ø¶ÛŒ</p>
  </div>

</div>

<!-- Ù¾Ù†Ù„ Ù¾Ø±ÙˆÚ˜Ù‡ -->
<div class="card hidden" id="panel">
  <div class="profile">
    <img id="profilePic">
    <div>
      <strong id="profileName"></strong>
      <div style="opacity:.7">Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ ğŸ‘‹</div>
      <button onclick="editProfile()">ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ âœï¸</button>
    </div>
  </div>

  <hr><br>

  <button onclick="runFlow()">â–¶ Ø§Ø¬Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡</button>
  <button onclick="backToProjects()">â¬… Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡ Ù‡Ø§</button>

  <br><br>

  <a href="Ù…Ø´Ø®Øµ Ú©Ù†Ù†Ø¯Ù‡ Ù…Ù‚Ø³ÙˆÙ… Ø¹Ù„ÛŒÙ‡ Ù‡Ø§.fprg" download>
    <button>â¬‡ Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ ÙÙ„ÙˆÚ¯ÙˆØ±ÛŒØªÙ…</button>
  </a>

  <pre id="result"></pre>
</div>

<script>
function toggleMode(){
  document.body.classList.toggle("light")
  let img=document.getElementById("modeIcon")
  if(document.body.classList.contains("light")){
    img.src="https://s6.uupload.ir/files/43_y27b.png" // Ø­Ø§Ù„Øª Ø±ÙˆØ²
  }else{
    img.src="https://s6.uupload.ir/files/42_q501.png" // Ø­Ø§Ù„Øª Ø´Ø¨
  }
}

function showAdmin(){
  userLogin.classList.add("hidden")
  adminLogin.classList.remove("hidden")
}

function loginAdmin(){
  if(adminCode.value==="adad132"){
    openProjects("Ù…Ø¯ÛŒØ±","https://cdn-icons-png.flaticon.com/512/847/847969.png")
  }else{
    alert("Ú©Ø¯ Ø§Ø´ØªØ¨Ø§Ù‡Ù‡ ğŸ˜…")
  }
}

function loginUser(){
  let name=username.value
  let file=avatar.files[0]
  if(!name||!file){
    alert("Ù†Ø§Ù… Ùˆ Ø¹Ú©Ø³ ÛŒØ§Ø¯Øª Ø±ÙØª ğŸ˜")
    return
  }
  let reader=new FileReader()
  reader.onload=()=>{
    localStorage.setItem("name",name)
    localStorage.setItem("avatar",reader.result)
    openProjects(name,reader.result)
  }
  reader.readAsDataURL(file)
}

function openProjects(name,img){
  userLogin.classList.add("hidden")
  adminLogin.classList.add("hidden")
  projects.classList.remove("hidden")
  profileName.innerText=name
  profilePic.src=img
}

function selectProject(p){
  localStorage.setItem("project",p)
  projects.classList.add("hidden")
  panel.classList.remove("hidden")
}

function backToProjects(){
  panel.classList.add("hidden")
  projects.classList.remove("hidden")
}

function runFlow(){
  let output=""
  output+="Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù…Ù‚Ø³ÙˆÙ… Ø¹Ù„ÛŒÙ‡ Ù‡Ø§ÛŒ ÛŒÚ© Ø¹Ø¯Ø¯ Ø±Ø§ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ÛŒÚ©Ù†Ø¯\n"
  output+="Ø³Ù„Ø§Ù…\n"
  output+="Ø¨Ù‡ Ø¨Ø±Ù†Ø§Ù…Ù‡ ØªØ´Ø®ÛŒØµ Ù…Ù‚Ø³ÙˆÙ… Ø¹Ù„ÛŒÙ‡ Ù‡Ø§ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯\n"
  output+="Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ú†Ù‡ Ø¹Ø¯Ø¯ÛŒ Ø±Ø§ Ø¯Ø± Ù†Ø¸Ø± Ø¯Ø§Ø±ÛŒØ¯ØŸ\n\n"

  let a=parseInt(prompt("Ø¹Ø¯Ø¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯"))
  if(isNaN(a)) return

  if(a<0){
    output+="Ù…ØªØ§Ø³ÙØ§Ù†Ù‡ Ù†Ù…ÛŒØªÙˆØ§Ù†Ù… Ù…Ù‚Ø³ÙˆÙ… Ø¹Ù„ÛŒÙ‡ Ù‡Ø§ÛŒ Ø§Ø¹Ø¯Ø§Ø¯ Ù…Ù†ÙÛŒ Ø±Ø§ Ø­Ø³Ø§Ø¨ Ú©Ù†Ù…"
  }else{
    for(let c=1;c<=a;c++){
      if(a%c===0){
        output+="Ø¨Ø± "+c+" Ø¨Ø®Ø´ Ù¾Ø°ÛŒØ± Ø§Ø³Øª\n"
      }
    }
  }
  result.innerText=output
}

/* ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ */
function editProfile(){
  let newName=prompt("Ù†Ø§Ù… Ø¬Ø¯ÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯",profileName.innerText)
  if(newName) profileName.innerText=newName

  let file=input=document.createElement("input")
  file.type="file"
  file.accept="image/*"
  file.onchange=e=>{
    let f=e.target.files[0]
    if(f){
      let reader=new FileReader()
      reader.onload=()=>{
        profilePic.src=reader.result
        localStorage.setItem("avatar",reader.result)
      }
      reader.readAsDataURL(f)
    }
  }
  file.click()
  localStorage.setItem("name",profileName.innerText)
}

/* Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø°Ø®ÛŒØ±Ù‡ */
window.onload=()=>{

  let n=localStorage.getItem("name")
  let a=localStorage.getItem("avatar")
  let p=localStorage.getItem("project")

  if(n&&a){
    profileName.innerText=n
    profilePic.src=a
    userLogin.classList.add("hidden")
    if(p){
      panel.classList.remove("hidden")
    }else{
      projects.classList.remove("hidden")
    }
  }
}
</script>
</body>
</html>
